(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var n=a(21),s=a.n(n),o=(a(61),a(62),a(0)),c=a.n(o),l=a(53),i=a(17),r=a(11),m=a(12),u=a(14),d=a(13),f=a(15),p=(a(63),a(18)),h=a.n(p),g=a(23),E=a(4),v=a(45),b=a.n(v),N=a(46),O=a.n(N),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e)))._onChildClick=function(){a.props.selectG(a.props.data)},a.state={title:""},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"map-card-items",onClick:this._onChildClick},c.a.createElement("img",{className:"church-icon",src:O.a,alt:"church icon"})))}}]),t}(c.a.Component),C=a(47),S=a.n(C),w=a(30),j=a.n(w),k=a(48),D=a.n(k),A=a(49),x=a.n(A),R=a(22),I=a(31),M=a.n(I),P=a(32),T=a.n(P),L=a(27),F=a.n(L),G=a(16),B=a(3),U=a.n(B),K={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",width:"40%",marginRight:"-50%",transform:"translate(-50%, -50%)"}};M.a.setAppElement("#root");var V=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).rootRef=G.database().ref().child("location"),a.componentDidMount=function(){a.rootRef.on("value",function(e){var t=e.val();if(t){var n=Object.keys(t).map(function(e){return Object(E.a)({},t[e],{uid:e})});a.setState({items:n})}else a.setState({items:[]})}),G.auth().onAuthStateChanged(function(e){e?a.setState({loggedIn:!0}):a.setState({loggedIn:!1})})},a.getLocation=function(e){a.rootRef.child("".concat(e.uid,"/operationDate")).on("value",function(e){var t=e.val();if(t){var n=Object.keys(t).map(function(e){return Object(E.a)({},t[e],{uid:e})});a.setState({operationDate:n})}else a.setState({operationDate:[]})})},a.submitNewItem=function(){var e=a.state,t=e.dates,n=e.selecteditem;a.rootRef.child("".concat(n.uid,"/operationDate")).push(t).then(function(e){B.notify.show("Operation date added successfully!","success"),a.setState({dates:{day:"",time:""}})}).catch(function(e){B.notify.show("Issue adding operation date!","error")})},a.additem=function(){var e=a.state,t=e.item,n=e.actionStatus,s=e.selecteditem;"POST"===n?a.rootRef.push(t).then(function(e){B.notify.show("Information added successfully!","success"),a.setState({item:{uid:"",name:"",location:"",phoneNumber:"",emailAddress:"",long:"",lat:""}})}).catch(function(e){B.notify.show("Issue adding information!","error")}):(delete t.uid,a.rootRef.child(s.uid).update(t).then(function(e){B.notify.show("Information updated successfully!","success")}).catch(function(e){B.notify.show("Issue updating information!","error")}))},a.removeGrouping=function(e){a.rootRef.child(e).remove().then(function(e){B.notify.show("Life group removed successfully!","success")}).catch(function(e){B.notify.show("Issue removing life group!","error")})},a.removingOperationDate=function(e){var t=a.state.selecteditem;a.rootRef.child("".concat(t.uid,"/operationDate")).child(e).remove().then(function(e){B.notify.show("Date removed successfully!","success")}).catch(function(e){B.notify.show("Issue removing operation date!","error")})},a.manageDetail=function(e){a.getLocation(e),a.setState({selecteditem:e,headerText:"Operation Dates",item:e,actionStatus:"UPDATE",actionBtn:"UPDATE RECORD"})},a.afterModalClosed=function(){a.setState({headerText:"Hope church groups",actionStatus:"POST",actionBtn:"SAVE RECORD",selecteditem:{},item:{uid:"",name:"",location:"",phoneNumber:"",emailAddress:"",long:"",lat:""}})},a.backAction=function(){a.setState({headerText:"Hope church groups",actionStatus:"POST",actionBtn:"SAVE RECORD",selecteditem:{},item:{uid:"",name:"",location:"",phoneNumber:"",emailAddress:"",long:"",lat:""}})},a.loginAuth=Object(g.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.login,e.next=3,G.auth().signInWithEmailAndPassword(t.email,t.password).then(function(e){B.notify.show("Login successful!","success")}).catch(function(e){B.notify.show("Issue with you login credentials!","error")});case 3:case"end":return e.stop()}},e)})),a.logoutAuth=Object(g.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.auth().signOut().then(function(e){B.notify.show("Logged out successfully!","success"),a.closeModal()}).catch(function(e){B.notify.show("Issue login out","error")});case 2:case"end":return e.stop()}},e)})),a.state={modalIsOpen:!1,headerText:"Location Awareness",actionStatus:"POST",actionBtn:"SAVE RECORD",login:{email:"contactapp@contactapp.com",password:"contactapp@contactapp.com"},selecteditem:{},loggedIn:!1,dates:{day:"",time:""},item:{uid:"",name:"",location:"",long:"",lat:"",phoneNumber:"",emailAddress:"",operationDate:[]},items:[],operationDate:[]},a.openModal=a.openModal.bind(Object(R.a)(a)),a.closeModal=a.closeModal.bind(Object(R.a)(a)),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.items,n=t.headerText,s=t.actionStatus,o=t.actionBtn,l=t.item,i=t.operationDate,r=t.dates,m=t.loggedIn;return c.a.createElement(c.a.Fragment,null,c.a.createElement(M.a,{isOpen:this.state.modalIsOpen,onAfterClose:this.afterModalClosed,onRequestClose:this.closeModal,style:K,contentLabel:"Dashboard"},c.a.createElement("div",{className:"modal-inner-wrap"},m?c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{onClick:this.logoutAuth,className:"logout"},"LOGOUT \u2192"),c.a.createElement("div",{className:"modal-left-view"},c.a.createElement("div",{className:"form-groups"},c.a.createElement("label",{className:"form-labels"},"Name"),c.a.createElement("input",{className:"form-inputs",value:l.name,onChange:function(t){return e.setState({item:Object(E.a)({},e.state.item,{name:t.target.value})})},placeholder:"The Bereans"})),c.a.createElement("div",{className:"form-groups"},c.a.createElement("label",{className:"form-labels"},"Phone Number"),c.a.createElement("input",{className:"form-inputs",value:l.phoneNumber,onChange:function(t){return e.setState({item:Object(E.a)({},e.state.item,{phoneNumber:t.target.value})})},placeholder:"+2546 xxxx xxxx"})),c.a.createElement("div",{className:"form-groups"},c.a.createElement("label",{className:"form-labels"},"Email Address"),c.a.createElement("input",{className:"form-inputs",value:l.emailAddress,onChange:function(t){return e.setState({item:Object(E.a)({},e.state.item,{emailAddress:t.target.value})})},placeholder:"username@somewhere.com"})),c.a.createElement("div",{className:"form-groups"},c.a.createElement("label",{className:"form-labels"},"Physical Address"),c.a.createElement("input",{className:"form-inputs",value:l.location,onChange:function(t){return e.setState({item:Object(E.a)({},e.state.item,{location:t.target.value})})},placeholder:"59 Hse Kali Estate"})),c.a.createElement("div",{className:"form-groups"},c.a.createElement("label",{className:"form-labels"},"Latitude"),c.a.createElement("input",{className:"form-inputs",value:l.lat,onChange:function(t){return e.setState({item:Object(E.a)({},e.state.item,{lat:t.target.value})})},placeholder:"-5.5833995"})),c.a.createElement("div",{className:"form-groups"},c.a.createElement("label",{className:"form-labels"},"Longitude"),c.a.createElement("input",{className:"form-inputs",value:l.long,onChange:function(t){return e.setState({item:Object(E.a)({},e.state.item,{long:t.target.value})})},placeholder:"596904840"})),c.a.createElement("div",{className:"form-groups"},c.a.createElement("button",{className:"form-btns",onClick:this.additem},o),c.a.createElement("button",{className:"form-btns danger",onClick:this.closeModal},"ABORT ACTION"))),c.a.createElement("div",{className:"modal-right-view"},"UPDATE"===s&&c.a.createElement("img",{className:"file-icon",style:{cursor:"pointer"},src:F.a,onClick:this.backAction,alt:"file icon"}),c.a.createElement("h4",null,n),c.a.createElement("div",{className:"groups-divider"}),c.a.createElement("div",{className:"form-groups"},c.a.createElement("div",{className:"files-area"},c.a.createElement("ul",{className:"files-inner-area detailed-list-area"},"POST"===s?c.a.createElement(c.a.Fragment,null,a.map(function(t){return c.a.createElement("li",{key:t.uid,className:"files-item"},c.a.createElement("img",{className:"file-icon",src:T.a,onClick:e.manageDetail.bind(e,t),alt:"file icon"}),c.a.createElement("p",{className:"file-text"},t.name),c.a.createElement("p",{onClick:e.removeGrouping.bind(e,t.uid),className:"remove-file"},"x"))})):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("div",{className:"add-detail-inner-cover"},c.a.createElement("input",{className:"form-inputs input-left-detail",value:r.day,onChange:function(t){return e.setState({dates:Object(E.a)({},e.state.dates,{day:t.target.value})})},placeholder:"Monday - Friday"}),c.a.createElement("input",{className:"form-inputs",value:r.time,onChange:function(t){return e.setState({dates:Object(E.a)({},e.state.dates,{time:t.target.value})})},placeholder:"Opening - closing time"})),c.a.createElement("div",{className:"action-btn-add-detail"},c.a.createElement("button",{className:"new-detail-btn",onClick:this.submitNewItem},"+ ADD OPERATION DATE"))),i.map(function(t){return c.a.createElement("li",{key:t.uid,className:"files-item"},c.a.createElement("img",{className:"file-icon",src:T.a,alt:"file icon"}),c.a.createElement("p",{className:"file-text"},t.day,": ",c.a.createElement("span",{className:"phoneNumberValue"},t.time)),c.a.createElement("p",{onClick:e.removingOperationDate.bind(e,t.uid),className:"remove-file"},"x"))}))))))):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"account-cover"},c.a.createElement("div",{className:"account-title"},c.a.createElement("h1",{className:"account-title-text"},"Sign in | ",c.a.createElement("span",{className:"account-title-sub-text"},"Company Name"))),c.a.createElement("div",{className:"account-box"},c.a.createElement("div",{className:"form-groups"},c.a.createElement("label",{className:"labels"},"Email Address"),c.a.createElement("input",{type:"text",onChange:function(t){return e.setState({login:Object(E.a)({},e.state.login,{email:t.target.value})})},className:"form-inputs",placeholder:"username@somewhere.com"})),c.a.createElement("div",{className:"form-groups"},c.a.createElement("label",{className:"labels"},"Password"),c.a.createElement("input",{type:"password",onChange:function(t){return e.setState({login:Object(E.a)({},e.state.login,{password:t.target.value})})},className:"form-inputs",placeholder:"*********"})),c.a.createElement("div",{className:"form-groups"},c.a.createElement("button",{className:"form-btns",onClick:this.loginAuth},"Login"))))))))}}]),t}(c.a.Component),q=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).rootRef=G.database().ref().child("location"),a.myRef=void 0,a.activateModal=function(){a.myRef.current.openModal()},a.sendMessage=function(){var e=a.state.contact;""===e.emailAddress||""===e.message?B.notify.show("All fields must be filled!","error"):B.notify.show("Message sent successfully","success")},a.getOperationDates=function(){var e=a.props.group;a.rootRef.child("".concat(e.uid,"/operationDate")).on("value",function(e){var t=e.val();if(t){var n=Object.keys(t).map(function(e){return Object(E.a)({},t[e],{uid:e})});a.setState({operationDates:n})}else a.setState({operationDates:[]})})},a.backAction=function(){window.location.href="/"},a.state={contact:{emailAddress:"",message:""},operationDates:[],title:""},a.myRef=c.a.createRef(),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.group,a=this.state.operationDates;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"location-details-details"},c.a.createElement(V,{ref:this.myRef}),c.a.createElement("button",{onClick:this.activateModal,className:"btn-get-direction"},"ACCESS ACCOUNT"),t.name?c.a.createElement(c.a.Fragment,null,t.distance&&c.a.createElement("div",{className:"float-distance-cover"},c.a.createElement("div",{className:"floating-distance-circle"},c.a.createElement("h1",{className:"floating-distance"},t.distance," KM")),c.a.createElement("p",{className:"floating-distance-text"},"Distance from you")),c.a.createElement("img",{className:"file-icon",style:{cursor:"pointer"},src:F.a,onClick:this.backAction,alt:"file icon"}),c.a.createElement("h1",{className:"location-details-header"},t.name),c.a.createElement("div",{className:"location-details-divider"}),c.a.createElement("ul",{className:"location-details-items"},c.a.createElement("li",{className:"location-details-item"},c.a.createElement("div",{className:"location-details-sub-item"},c.a.createElement("img",{className:"location-details-icons",src:S.a,alt:"location icon"}),c.a.createElement("span",{className:"location-details-sub-item-value"},"Locations:")),c.a.createElement("p",{className:"location-details-values"},t.location)),c.a.createElement("li",{className:"location-details-item"},c.a.createElement("div",{className:"location-details-sub-item"},c.a.createElement("img",{className:"location-details-icons",src:j.a,alt:"date icon"}),c.a.createElement("span",{className:"location-details-sub-item-value"},"Email Address:")),c.a.createElement("p",{className:"location-details-values"},t.emailAddress)),c.a.createElement("li",{className:"location-details-item"},c.a.createElement("div",{className:"location-details-sub-item"},c.a.createElement("img",{className:"location-details-icons",src:D.a,alt:"study icon"}),c.a.createElement("span",{className:"location-details-sub-item-value"},"Phone Number:")),c.a.createElement("p",{className:"location-details-values"},t.phoneNumber))),c.a.createElement("h3",{className:"operation-date-sub-header"},"Operation Dates"),c.a.createElement("div",{className:"details-location-divider"}),a.length>0&&c.a.createElement("ul",{className:"location-details"},a.map(function(e){return c.a.createElement("li",{key:e.uid,className:"location-details-list"},c.a.createElement("img",{className:"location-details-icons",src:j.a,alt:"check icon"}),c.a.createElement("p",{className:"location-details-values"},e.day,c.a.createElement("br",null),c.a.createElement("span",{className:"operation-time"},e.time)))}))):c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{className:"logo",src:x.a,alt:"logo"}),c.a.createElement("h1",{className:"logo-text",style:{color:"#666"}},"Contact"),c.a.createElement("p",{className:"quote"},"\u201cCommunication is the solvent of all problems and is the foundation for personal development.\u201d ",c.a.createElement("br",null)),c.a.createElement("p",{className:"quote-author"},"\u2013 Peter Shepherd"),c.a.createElement("div",{className:"divider"}),c.a.createElement("div",{className:"contact-form"},c.a.createElement("div",{className:"form-groups"},c.a.createElement("label",{className:"labels"},"Email Address"),c.a.createElement("input",{type:"text",onChange:function(t){return e.setState({contact:Object(E.a)({},e.state.contact,{emailAddress:t.target.value})})},className:"form-inputs form-input-lg",placeholder:"username@somewhere.com"})),c.a.createElement("div",{className:"form-groups"},c.a.createElement("label",{className:"labels"},"Message"),c.a.createElement("textarea",{rows:10,onChange:function(t){return e.setState({contact:Object(E.a)({},e.state.contact,{message:t.target.value})})},className:"form-textarea",placeholder:"You message here .."})),c.a.createElement("div",{className:"form-groups"},c.a.createElement("button",{className:"form-btns-lg",onClick:this.sendMessage},"SEND MESSAGE"))))))}}]),t}(c.a.Component),z=a(51),H=a.n(z),_=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).rootRef=G.database().ref().child("location"),a.myRef=void 0,a.componentDidMount=function(){a.getCurrentLocation()},a.getLocationDetails=function(e){a.rootRef.on("value",function(t){var n=t.val();if(n){var s,o=Object.keys(n).map(function(e){return Object(E.a)({},n[e],{uid:e})});s=1===e?a.refinedResults(o):o,a.setState({items:s},function(){})}else a.setState({items:[]})})},a.refinedResults=function(e){var t=a.state.coordinates,n=[],s={latitude:t.latitude,longitude:t.longitude};return e.forEach(function(e){var t={latitude:e.lat,longitude:e.long},o=a.calculateDistance(s,t);o<10&&(e.distance=o.toFixed(),n.push(e))}),n},a.calculateDistance=function(e,t){return H()(e,t)},a.getCurrentLocation=Object(g.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var t=e.coords,n={lat:t.latitude,lng:t.longitude};a.getLocationDetails(0),a.setState({defaultProps:Object(E.a)({},a.state.defaultProps,{center:n}),locationStatus:!!t,coordinates:t})}):a.getLocationDetails(0);case 1:case"end":return e.stop()}},e)})),a.selectedItem=function(e){a.setState({selectedGroup:e},function(){a.myRef.current.getOperationDates()})},a.getDirection=function(){var e=a.state,t=e.selectedGroup,n=e.coordinates,s="https://www.google.com/maps/dir/?api=1&origin=".concat(n.latitude,",").concat(n.longitude,"&destination=").concat(t.lat,",").concat(t.long);window.open(s,"_blank")},a.afterModalClosed=function(){},a.closeModal=function(){a.setState({modalIsOpen:!1})},a.beforeCloseModal=function(){},a.state={items:[],selectedGroup:{},modalIsOpen:!1,googleUrl:"",locationStatus:!1,coordinates:{accuracy:0,altitude:"",altitudeAccuracy:"",heading:"",latitude:"",longitude:"",speed:""},defaultProps:{center:{lat:-1.28333,lng:36.81667},zoom:13}},a.myRef=c.a.createRef(),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.items,n=t.locationStatus,s=t.selectedGroup;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"map-container"},c.a.createElement("div",{className:"map",style:{position:"relative"}},c.a.createElement("div",{className:"inner-map"},a&&c.a.createElement(b.a,{bootstrapURLKeys:{key:""},defaultCenter:this.state.defaultProps.center,center:this.state.defaultProps.center,defaultZoom:this.state.defaultProps.zoom},a&&a.map(function(t){return c.a.createElement(y,{key:t.uid,lat:t.lat,lng:t.long,selectG:e.selectedItem,data:t,text:t.name})})))),c.a.createElement("div",{className:"map-item-details"},s.name&&n&&c.a.createElement("div",{className:"user-direction",onClick:this.getDirection},c.a.createElement("h2",{className:"user-direction-text"},"GET DIRECTION \u2198")),c.a.createElement(q,{ref:this.myRef,group:this.state.selectedGroup}))))}}]),t}(c.a.Component),J=a(52),W={apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""};a.n(J).a.initializeApp(W);var Y=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"map-section-cover"},c.a.createElement(U.a,null),c.a.createElement(_,null))}}]),t}(c.a.Component),Z=c.a.createElement(l.a,null,c.a.createElement("div",null,c.a.createElement(i.a,{exact:!0,path:"/",component:Y})));s.a.render(Z,document.getElementById("root"))},27:function(e,t,a){e.exports=a.p+"static/media/left-arrow.5920a041.svg"},30:function(e,t,a){e.exports=a.p+"static/media/date.525c6713.svg"},32:function(e,t,a){e.exports=a.p+"static/media/writing.fce92e01.svg"},46:function(e,t,a){e.exports=a.p+"static/media/marker.aff63b15.svg"},47:function(e,t,a){e.exports=a.p+"static/media/location.f466789c.svg"},48:function(e,t,a){e.exports=a.p+"static/media/study.7ee29816.svg"},49:function(e,t,a){e.exports=a.p+"static/media/logo.119e9935.png"},56:function(e,t,a){e.exports=a(109)},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){}},[[56,1,2]]]);
//# sourceMappingURL=main.c5e55c78.chunk.js.map